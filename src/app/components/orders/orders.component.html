<div *ngIf="isDataLoading">
  <app-loader></app-loader>
</div>
<div *ngIf="!isDataLoading">
  <div *ngIf="ordersData.isSuccess">
    @if (ordersData.data.length==0) {

      <app-alert-message [title]="'Error'" [message]="'orders.noOrders' | translate"  [isSuccess]="false"></app-alert-message>
      <!-- <div class="noOrdersToDisplay">
        <p class="errormsg "> {{ 'orders.noOrders' | translate }}   <img  src="images/sad.png" alt="Frustrated Icon" style="width: 50px; height: 50px;">
        </p>
      </div> -->
    }
    @else{

          <!-- <div class="row d-flex justify-content-center align-items-center  pt-5">
            <div class="col col-lg-6 mb-4 mb-lg-0">
              <div class="card mb-3" style="border-radius: .5rem;">
                <div class="row g-0">
                  <div class="col-md-4 gradient-custom text-center text-white"
                    style="border-top-left-radius: .5rem; border-bottom-left-radius: .5rem;">
                    <img src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-chat/ava1-bg.webp"
                      alt="Avatar" class="img-fluid mt-5 mb-2" style="width: 80px;" />
                    <h5 class="text-dark">Marie Horwitz</h5>
                    <p class="text-dark mb-1">Web Designer</p>
                    <i class="far fa-edit mb-5 text-dark"></i>
                  </div>
                  <div class="col-md-8">
                    <div class="card-body p-4">
                      <h6>Information</h6>
                      <hr class="mt-0 mb-4">
                      <div class="row pt-1">
                        <div class="col-6 mb-3">
                          <h6>Email</h6>
                          <p class="text-muted">infoexample.com</p>
                        </div>
                        <div class="col-6 mb-3">
                          <h6>Phone</h6>
                          <p class="text-muted">123 456 789</p>
                        </div>
                        <hr class="mt-0 mb-4">
                        <div class="col-12 mb-3">
                          <h4>Addrees</h4>
                          <p class="text-muted m-1 fs-5">25st sdad</p>
                        </div>

                      </div>

                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div> -->

      <div [class]="'ordersContainer '+lang">

        <div class="titleAndSearchContainer">
          <h1>{{ 'orders.yourOrders' | translate }}</h1>
          <div class="ordersSearchContainer">
            <div class="ordersSearchInput">
              <i class="ordersSearchIcon"></i>
              <input type="text" [placeholder]="'orders.searchPlaceholder' | translate" [(ngModel)]="searchQuery"/>
            </div>
          </div>
          <!-- @if (lang=='en') {

            <button class="btn btn-dark p-1" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight">Account Details</button>

                  <div class="offcanvas offcanvas-end p-1" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
                    <div class="offcanvas-header">
                      <h5 class="offcanvas-title" id="offcanvasRightLabel">Personal Details</h5>
                      <button type="button" class="btn-close me-1" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                    </div>
                    <div class="offcanvas-body">
                      <ul class="list-group justify-content-between ">
                        <li class="list-group-item p-1 my-1">Name : </li>
                        <li class="list-group-item p-1 my-1 ">Mobile :</li>
                        <li class="list-group-item p-1 my-1">Address :</li>
                        <li class="list-group-item p-1 my-1">Email :</li>
                      </ul>
                    </div>
                  </div>
          } -->

        </div>
        <div class="ordersNumberPerYear">
          {{ 'orders.selectYear' | translate }}:
          <select id="yearSelect" [(ngModel)]="selectedYear" (change)="onYearChange()">
            <option value="">{{ 'orders.allYears' | translate }}</option>
            <option *ngFor="let year of getUniqueOrderYears()" [value]="year">{{ year }}</option>
          </select>
        </div>
        <div>
          <div class="ordersContents">
            <div class="ordersDisplay">
              <div *ngFor="let order of getFilteredOrders()">
                <app-order [order]="order" ></app-order>
              </div>
            </div>
          </div>
        </div>
      </div>
    }
  </div>
</div>
